C51 COMPILER V8.18   8X8GD                                                                 01/04/2010 16:30:17 PAGE 1   


C51 COMPILER V8.18, COMPILATION OF MODULE 8X8GD
OBJECT MODULE PLACED IN 8X8GD.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE 8X8GD.C BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*--------------------------------------------------------------*/
   2          //LED8*8滚动显示
   3          //列扫描，低电平有效
   4          
   5          
   6          /*--------------------------------------------------------------*/
   7          //包含头文件
   8          #include <reg52.h>
   9          #include "74HC595.H"
  10          
  11          
  12          /*--------------------------------------------------------------*/
  13          //全局变量定义
  14          unsigned char m, i;
  15          unsigned int  n;
  16          
  17          
  18          /*--------------------------------------------------------------*/
  19          //代码库
  20          #define  num  sizeof(table)     //代码长度
  21          
  22          unsigned char code aa[]={0xfe,0xfd,0xfb,0xf7,0xef,0xdf,0xbf,0x7f}; 
  23          unsigned char code bb[]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80}; 
  24          unsigned char code table[]= 
  25          
  26          
  27          {
  28          //取模方式 阳码 逐行式 逆向
  29          0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,/*" ",0*/
  30          0xE1,0xC9,0xC9,0xE1,0xF1,0xE1,0xC9,0xFF,/*"R",1*/
  31          0xE1,0xF3,0xF3,0xF3,0xF3,0xF3,0xE1,0xFF,/*"I",2*/
  32          0xE3,0xC9,0xF9,0xF9,0xF9,0xC9,0xE3,0xFF,/*"C",3*/
  33          0xC9,0xC9,0xC9,0xC1,0xC9,0xC9,0xC9,0xFF,/*"H",4*/
  34          0xC9,0xC1,0xC1,0xC9,0xC9,0xC9,0xC9,0xFF,/*"M",5*/
  35          0xE3,0xC9,0xF9,0xF9,0xF9,0xC9,0xE3,0xFF,/*"C",6*/
  36          0xC9,0xC9,0xC9,0xC9,0xC9,0xC9,0xE3,0xFF,/*"U",7*/
  37          0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,/*" ",8*/
  38          0xE3,0xC9,0xC9,0xE3,0xC9,0xC9,0xE3,0xFF,/*"8",9*/
  39          0xC9,0xC9,0xE3,0xE3,0xE3,0xC9,0xC9,0xFF,/*"X",10*/
  40          0xE3,0xC9,0xC9,0xE3,0xC9,0xC9,0xE3,0xFF,/*"8",11*/
  41          0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,/*" ",12*/
  42          0xC1,0xF3,0xF3,0xF3,0xF3,0xF3,0xF3,0xFF,/*"T",13*/
  43          0xC1,0xF9,0xF9,0xE1,0xF9,0xF9,0xC1,0xFF,/*"E",14*/
  44          0xE3,0xC9,0xF9,0xE3,0xCF,0xC9,0xE3,0xFF,/*"S",15*/
  45          0xC1,0xF3,0xF3,0xF3,0xF3,0xF3,0xF3,0xFF,/*"T",16*/
  46          0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,/*" ",17*/
  47          0xE1,0xC9,0xC9,0xE1,0xF1,0xE1,0xC9,0xFF,/*"R",18*/
  48          0xC1,0xCF,0xE7,0xE3,0xF3,0xF9,0xC1,0xFF,/*"Z",19*/
  49          0xFF,0xFF,0xFF,0xC1,0xFF,0xFF,0xFF,0xFF,/*"-",20*/
  50          0xE3,0xC9,0xCF,0xE7,0xF3,0xF9,0xC1,0xFF,/*"2",21*/
  51          0xE3,0xC9,0xC9,0xC9,0xC9,0xC9,0xE3,0xFF,/*"0",22*/
  52          0xE3,0xC9,0xC9,0xC9,0xC9,0xC9,0xE3,0xFF,/*"0",23*/
  53          0xE3,0xC9,0xC9,0xC3,0xCF,0xC9,0xE3,0xFF,/*"9",24*/
  54          0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,/*" ",25*/
  55          0xE1,0xC9,0xC9,0xC9,0xC9,0xC9,0xE1,0xFF,/*"D",26*/
C51 COMPILER V8.18   8X8GD                                                                 01/04/2010 16:30:17 PAGE 2   

  56          0xC1,0xF9,0xF9,0xE1,0xF9,0xF9,0xC1,0xFF,/*"E",27*/
  57          0xC9,0xC1,0xC1,0xC9,0xC9,0xC9,0xC9,0xFF,/*"M",28*/
  58          0xC1,0xC9,0xC9,0xC9,0xC9,0xC9,0xC1,0xFF,/*"O",29*/
  59          0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,/*" ",30*/
  60          0xE3,0xC9,0xF9,0xE3,0xCF,0xC9,0xE3,0xFF,/*"S",31*/
  61          0xCC,0xCC,0xE1,0xF3,0xF3,0xF3,0xF3,0xFF,/*"Y",32*/
  62          0xE3,0xC9,0xF9,0xE3,0xCF,0xC9,0xE3,0xFF,/*"S",33*/
  63          0xC1,0xF3,0xF3,0xF3,0xF3,0xF3,0xF3,0xFF,/*"T",34*/
  64          0xC1,0xF9,0xF9,0xE1,0xF9,0xF9,0xC1,0xFF,/*"E",35*/
  65          0xC9,0xC1,0xC1,0xC9,0xC9,0xC9,0xC9,0xFF,/*"M",36*/
  66          0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,/*" ",37*/};/*"4",3*/
  67          /*--------------------------------------------------------------*/
  68          //显示函数
  69          void Display(void)
  70          
  71          {                       
  72   1                      Ser_IN(table[i + n]);                           //查表取出数据
  73   1                       Ser_IN(bb[i]);                         //开始行扫描
  74   1                        Par_OUT();//输出显示  
  75   1              i++; if(i == 8) i = 0;                          //循环扫描
  76   1              m++; if(m == 200) {m = 0; n++;}         //滚动速度控制
  77   1              if(n == num-7) n = 0;                           //循环显示
  78   1      }
  79          
  80          
  81          /*--------------------------------------------------------------*/
  82          //定时器初始化
  83          void T0_init(void)
  84          {
  85   1          TMOD = 0x01;
  86   1          TH0  = 0xfc;                //5000us
  87   1          TL0  = 0x17;
  88   1          IE   = 0x82;
  89   1          TR0  = 1;
  90   1      }
  91          
  92          
  93          /*--------------------------------------------------------------*/
  94          //定时器中断服务
  95          void T0_intservice(void) interrupt 1 using 0
  96          {
  97   1          TH0 = 0xfc;
  98   1          TL0 = 0x17;
  99   1              Display();
 100   1      }
 101          
 102          
 103          /*--------------------------------------------------------------*/
 104          //主函数
 105          void main (void)
 106          {
 107   1              T0_init();
 108   1              while(1);               
 109   1      }
 110          
 111          
 112          
 113          
 114          


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V8.18   8X8GD                                                                 01/04/2010 16:30:17 PAGE 3   

   CODE SIZE        =    157    ----
   CONSTANT SIZE    =    320    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
